!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({"./node_modules/ucbuzz-client-ui-state/utils/WindowMessageUtils.ts":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return i}),n.d(e,"d",function(){return s}),n.d(e,"a",function(){return a});var r=n("./node_modules/uuid/index.js"),o=function(t){return t+".error"},i=function(t){return t+"#"+Object(r.v4)().substring(0,6)},s=function(t){return t.replace(".error","")},a={Auth:{success:"auth.success",failure:"auth.failure"},Contact:{addContact:"contact.addContact"},Chat:{createConversation:"chat.createConversation",createConversationMessage:"chat.createConversationMessage",listConversations:"chat.listConversations",listConversationMessages:"chat.listConversationMessages"},Meetings:{getOnetimePin:"meetings.getOnetimePin"},Event:{subscribeDevice:"event.subscribeDevice",message:"event.message",subscribeError:"event.subscribeError"},Widget:{redirect:"widget.redirect"}}},"./node_modules/ucbuzz-web-common/index.ts":function(t,e,n){"use strict";(function(t){var r=n("./node_modules/ucbuzz-web-common/utils/LogUtils.ts"),o=n("./node_modules/ucbuzz-web-common/utils/MetricsUtils.ts");n.d(e,"a",function(){return o.a});var i=n("./node_modules/ucbuzz-web-common/utils/LocalStorageUtils.ts");n("./node_modules/ucbuzz-web-common/metrics/Metric.ts");t.common={logger:r.a,metrics:o.a,localStore:i.a}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/ucbuzz-web-common/metrics/Metric.ts":function(t,e,n){"use strict";!function(){function t(t){this._name=t}t.supportsPerfNow=function(){return!!(self&&self.performance&&self.performance.now)},t.supportsPerfMark=function(){return!!(self&&self.performance&&self.performance.mark)},t.supportsPerfGetEntriesByName=function(){return!!(self&&self.performance&&self.performance.getEntriesByName)},t.supportsPerfMeasure=function(){return!!(self&&self.performance&&self.performance.measure)},Object.defineProperty(t.prototype,"duration",{get:function(){var e;if(t.supportsPerfNow()){var n=t._end.get(this),r=t._start.get(this);n&&r&&(e=n-r)}if(t.supportsPerfGetEntriesByName()){var o=self.performance.getEntriesByName(this._name)[0];o&&"measure"!==o.entryType&&(e=o.duration)}return e||-1},enumerable:!0,configurable:!0}),t.prototype.start=function(){return t._start.get(this)?this:(t.supportsPerfNow()&&t._start.set(this,self.performance.now()),t.supportsPerfMark()&&self.performance.mark("mark_"+this._name+"_start"),this)},t.prototype.end=function(){if(t._end.get(this))return this;if(t.supportsPerfNow()&&t._end.set(this,self.performance.now()),t.supportsPerfMark()&&t.supportsPerfMeasure()){var e="mark_"+this._name+"_start",n="mark_"+this._name+"_end";self.performance.mark(n),self.performance.measure(this._name,e,n)}return this},t._start=new WeakMap,t._end=new WeakMap}()},"./node_modules/ucbuzz-web-common/utils/LocalStorageUtils.ts":function(t,e,n){"use strict";var r=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},o=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(){function t(){var t=this;this.init=function(e){return t.storage=e,t.storage},this.get=function(e){if(t.storage)return t.storage.get(e)},this.set=function(e,n){if(t.storage)return t.storage.set(e,n)},this.remove=function(e){t.storage&&t.storage.remove(e)},this.lockInit=function(e,n){if(t.storage)return t.storage.lockInit(e,n)},this.lock=function(e){return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.storage?[4,this.storage.lock(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},this.unlock=function(e){if(t.storage)return t.storage.unlock(e)},this.isLocked=function(e){return!!t.storage&&t.storage.isLocked(e)}}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t}();e.a=i.getInstance()},"./node_modules/ucbuzz-web-common/utils/LogUtils.ts":function(t,e,n){"use strict";var r=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},o=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},s=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t},a=function(){function t(){var t=this;this.init=function(e){return t.logger=e,t.logger},this.setLogLevel=function(e){t.logger&&t.logger.setLogLevel(e)},this.getLogger=function(){return t.logger},this.info=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(t.logger){var i=""+e;return(n=t.logger).info.apply(n,s([i],r))}},this.debug=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(t.logger){var i=""+e;return(n=t.logger).debug.apply(n,s([i],r))}},this.warn=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(t.logger){var i=""+e;return(n=t.logger).warn.apply(n,s([i],r))}},this.error=function(e){for(var n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(t.logger){var i=""+e;return(n=t.logger).error.apply(n,s([i],r))}},this.flush=function(){return r(t,void 0,void 0,function(){return o(this,function(t){return this.logger&&this.logger.flush(),[2]})})},this.initialized=function(){if(t.logger)return t.logger.initialized()}}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t}();e.a=a.getInstance()},"./node_modules/ucbuzz-web-common/utils/MetricsUtils.ts":function(t,e,n){"use strict";var r,o;n("./node_modules/ucbuzz-web-common/utils/LocalStorageUtils.ts");(o=r||(r={})).COUNT="Count",o.SUCCESS_COUNT="SuccessCount",o.FAILURE_COUNT="FailureCount",o.LATENCY="Latency";var i=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},s=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=function(){function t(){var t=this;this.init=function(e){return t.metricHandler=e,t.metricHandler},this.initialized=function(){return t.metricHandler.initialized()},this.addTime=function(e,n,r){if(t.metricHandler)return t.metricHandler.addTime(e,n,r)},this.addCount=function(e,n,r){if(t.metricHandler)return t.metricHandler.addCount(e,n,r)},this.addMetrics=function(e,n,r){if(t.metricHandler)return t.metricHandler.addMetrics(e,n,r)},this.flush=function(){if(t.metricHandler)return t.metricHandler.flush()},this.getTimer=function(e){if(t.metricHandler)return t.metricHandler.getTimer(e)},this.stopTimer=function(e,n){if(t.metricHandler)return t.metricHandler.stopTimer(e,n)},this.startTimer=function(e,n){if(void 0===n&&(n=!1),t.metricHandler)return t.metricHandler.startTimer(e,n)},this.logEvent=function(e,n){if(t.metricHandler)return t.metricHandler.logEvent(e,n)},this.withMetrics=function(e,n,r){if("string"==typeof e)return function(n,r,o){return t.applyMetricsDecorator(e,o)};var o=e&&e.name&&e.name+"_"+n||n||"unknown";return t.applyMetricsDecorator(o,r)},this.applyMetricsDecorator=function(e,n){var o=t;if(!n)return{};var a=n.value;return n.value=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return i(this,void 0,void 0,function(){var n,i,u,c,l,f,d;return s(this,function(s){switch(s.label){case 0:u=new Date,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,a.apply(this,t)];case 2:return i=s.sent(),n=new Date,l=n.getTime()-u.getTime(),o.metricHandler&&o.metricHandler.addMetrics(e,((f={})[r.SUCCESS_COUNT]=1,f[r.LATENCY]=l,f)),[2,i];case 3:throw c=s.sent(),n=new Date,l=n.getTime()-u.getTime(),o.metricHandler&&o.metricHandler.addMetrics(e,((d={})[r.FAILURE_COUNT]=1,d[r.LATENCY]=l,d)),c;case 4:return[2]}})})},n}}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t}();e.a=a.getInstance()},"./node_modules/uuid/index.js":function(t,e,n){var r=n("./node_modules/uuid/v1.js"),o=n("./node_modules/uuid/v4.js"),i=o;i.v1=r,i.v4=o,t.exports=i},"./node_modules/uuid/lib/bytesToUuid.js":function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+"-"+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]+o[t[r++]]}},"./node_modules/uuid/lib/rng-browser.js":function(t,e,n){(function(e){var n,r=e.crypto||e.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/uuid/v1.js":function(t,e,n){var r=n("./node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/uuid/lib/bytesToUuid.js"),i=r(),s=[1|i[0],i[1],i[2],i[3],i[4],i[5]],a=16383&(i[6]<<8|i[7]),u=0,c=0;t.exports=function(t,e,n){var r=e&&n||0,i=e||[],l=void 0!==(t=t||{}).clockseq?t.clockseq:a,f=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:c+1,h=f-u+(d-c)/1e4;if(h<0&&void 0===t.clockseq&&(l=l+1&16383),(h<0||f>u)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=f,c=d,a=l;var p=(1e4*(268435455&(f+=122192928e5))+d)%4294967296;i[r++]=p>>>24&255,i[r++]=p>>>16&255,i[r++]=p>>>8&255,i[r++]=255&p;var m=f/4294967296*1e4&268435455;i[r++]=m>>>8&255,i[r++]=255&m,i[r++]=m>>>24&15|16,i[r++]=m>>>16&255,i[r++]=l>>>8|128,i[r++]=255&l;for(var v=t.node||s,_=0;_<6;++_)i[r+_]=v[_];return e||o(i)}},"./node_modules/uuid/v4.js":function(t,e,n){var r=n("./node_modules/uuid/lib/rng-browser.js"),o=n("./node_modules/uuid/lib/bytesToUuid.js");t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||o(s)}},"./node_modules/webpack/buildin/global.js":function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},"./src/contants/index.ts":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i});var r="https://app.chime.aws",o="chime-iframe-sdk",i="chime-iframe-widget"},"./src/sdk/index.ts":function(t,e,n){"use strict";n.r(e);var r,o,i,s,a,u=n("./src/utils/WindowUtils.ts"),c=n("./node_modules/ucbuzz-client-ui-state/utils/WindowMessageUtils.ts"),l=n("./node_modules/ucbuzz-web-common/index.ts"),f=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t){function e(e,n,r,o,i){void 0===e&&(e="");var s=t.call(this,e)||this;return s.name=n,s.status=r,s.response=o,s.errorCode=i,s}return f(e,t),e}(Error),h="COMMON",p="TOKEN_REFRESH",m={SERVER_ERROR:h+"_5XX_RESPONSE",TOKEN_REFESH_TIME:h+"_TOKEN_REFESH_TIME",SLEEP_TIME:h+"_APP_SLEEP_TIME",TOKEN_REFRESH_START:p+"_START",TOKEN_REFRESH_COMPLETE:p+"_COMPLETE",TOKEN_REFRESH_FAILED:p+"_FAILED",TOKEN_REFRESH_WAITING_LOCK:p+"_WAITING_LOCK",TOKEN_REFRESH_TAKE_LOCK:p+"_TAKE_LOCK",TOKEN_REFRESH_RELEASING_LOCK:p+"_RELEASING_LOCK",TOKEN_REFRESH_LOCK_RELEASED:p+"_LOCK_RELEASED",TOKEN_REFRESH_IGNORED:p+"_IGNORED",TOKEN_REFRESH_ERROR:p+"_ERROR",TOKEN_REFRESH_UNAUTHORIZED:p+"_UNAUTHORIZED",TOKEN_REFRESH_TOO_MANY_RETRIES:p+"_TOO_MANY_RETRIES",TOKEN_REFRESH_EXECUTING_REQUEST:p+"_EXECUTING_REQUEST",TOKEN_REFRESH_FINISHED_REQUEST:p+"_FINISHED_REQUEST",TOKEN_REFRESH_FAILED_REQUEST:p+"_FAILED_REQUEST",TOKEN_REFRESH_FINISHED_NOTOK_REQUEST:p+"_FINISHED_NOTOK_REQUEST",TOKEN_REFRESH_FINISHED_NOTOK_RETRY_REQUEST:p+"_FINISHED_NOTOK_RETRY_REQUEST"},v=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_=function(t){function e(n,r,o,i,s){void 0===n&&(n="");var a=t.call(this,n,r,o)||this;return a.name=r,a.status=o,a.response=i,a.errorCode=s,Object.setPrototypeOf(a,e.prototype),l.a.addCount(m.SERVER_ERROR,1),a}return v(e,t),e}(d),E=(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t){function e(n,r,o){void 0===n&&(n="");var i=t.call(this,n,"InternalServerError",500)||this;return i.response=r,i.errorCode=o,Object.setPrototypeOf(i,e.prototype),i}return E(e,t),e}(_),g=n("./src/contants/index.ts"),w=function(){var t=Object(u.c)(g.c,"Amazon Chime",500,500);Object(u.e)(t)},y=3e4,O=function(){function t(){var e=this;this.checkIsAuthenticated=function(){return new Promise(function(n,r){t.callbacks={checkIsAuthenticatedResolve:n},void 0!==e.isAuthenticated()&&n(e.isAuthenticated()),setTimeout(function(){return r(new b("Timeout: "+y+" ms"))},y)})},this.authenticate=function(){return new Promise(function(n){t.callbacks={authenticateResolve:n},e.isAuthenticated()?n(!0):w()})},this.onAuthStatus=function(e){t.authStatusCallback=e},this.isAuthenticated=function(){return e.authStatus&&e.authStatus===c.a.Auth.success},this.setAuthStatus=function(n){t.authStatusCallback&&e.authStatus!==n&&t.authStatusCallback(n===c.a.Auth.success),e.authStatus=n},this.getAuthStatus=function(){return e.authStatus}}return t.getInstance=function(){return t.instance||(t.instance=new t),this.instance},t.callbacks={},t}();(s||(s={})).DEVICE_CHANNEL="webclient_device",(a||(a={})).CONVERSATION_MESSAGE="ConversationMessage";var R,C,S,T={timeout:5e3},k=(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),N=function(t){function e(n,r,o,i,s){void 0===n&&(n="");var a=t.call(this,n,r,o)||this;return a.name=r,a.status=o,a.response=i,a.errorCode=s,Object.setPrototypeOf(a,e.prototype),a}return k(e,t),e}(d),A=(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=function(t){function e(n,r,o){void 0===n&&(n="");var i=t.call(this,n,"UnauthorizedClientError",401)||this;return i.response=r,i.errorCode=o,Object.setPrototypeOf(i,e.prototype),i}return A(e,t),e}(N),H=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},M=function(){function t(){}return t.authApi=O.getInstance(),t.callbacks={},t.makeRequest=function(e,n,r){return void 0===r&&(r={}),new Promise(function(o,i){var s=n.timeout,a=Object(c.c)(e),l=Object(c.b)(a);if(t.callbacks[a]=o,t.callbacks[l]=i,!t.authApi.isAuthenticated())throw new I;Object(u.d)({type:a,payload:H({},r,{iframeId:g.a})}),setTimeout(function(){return i(new b("Timeout: "+s+" ms"))},s)})},t.makeEventRequest=function(e,n){if(void 0===n&&(n={}),!t.authApi.isAuthenticated())throw new I;Object(u.d)({type:e,payload:H({},n,{iframeId:g.a})})},t}(),j=function(){function t(){this.subscribe=function(e,n,r){switch(e){case s.DEVICE_CHANNEL:0===Object.keys(t.deviceCallbacks).length&&M.makeEventRequest(c.a.Event.subscribeDevice),t.deviceCallbacks[n]=r}}}return t.deviceCallbacks={},t}(),P=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},L=function(){return function(t){void 0===t&&(t={});var e=this;this.createConversation=function(t){return M.makeRequest(c.a.Chat.createConversation,e.options,{profileIds:t})},this.createConversationMessage=function(t,n){return M.makeRequest(c.a.Chat.createConversationMessage,e.options,{conversationId:t,content:n})},this.listConversationMessages=function(t,n){return M.makeRequest(c.a.Chat.listConversationMessages,e.options,{conversationId:t,options:n})},this.listConversations=function(t){return M.makeRequest(c.a.Chat.listConversations,e.options,{options:t})},this.onConversationMessage=function(t,n){var r=a.CONVERSATION_MESSAGE+"#"+t;e.eventApi.subscribe(s.DEVICE_CHANNEL,r,n)},this.options=P({},T,t),this.eventApi=new j}}(),U=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},x=function(){return function(t){void 0===t&&(t={});var e=this;this.addContact=function(t){return M.makeRequest(c.a.Contact.addContact,e.options,{email:t})},this.options=U({},T,t)}}(),K=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},D=function(){return function(t){var e=this;this.getOnetimePin=function(){return M.makeRequest(c.a.Meetings.getOnetimePin,e.options)},this.options=K({},T,t)}}(),F=function(){return function(){this.watch=function(t){var e=t.data,n=e.type,r=e.payload;if(M.callbacks[n]){M.callbacks[n](r);var o=Object(c.d)(n);delete M.callbacks[o],delete M.callbacks[Object(c.b)(o)]}}}}(),z=function(){return function(){var t=this;this.watch=function(e){var n=e.data.type,r=O.callbacks,o=r.checkIsAuthenticatedResolve,i=r.authenticateResolve,s=c.a.Auth,a=s.success,l=s.failure;switch(void 0!==t.authApi.getAuthStatus()||n!==a&&n!==l||o&&o(n===l),n){case a:t.authApi.setAuthStatus(n),Object(u.b)(),i&&i(!0);break;case l:t.authApi.setAuthStatus(n)}},this.authApi=O.getInstance()}}(),G=function(){return function(){var t=this;this.watch=function(e){var n=e.data,r=n.type,o=n.payload;if(r===c.a.Event.message)switch(o.channel?o.channel.split("!")[0]:""){case s.DEVICE_CHANNEL:t.handleDeviceChannelMessage(o)}},this.handleDeviceChannelMessage=function(t){var e=t.data,n=e.klass,r=e.record;switch(n){case a.CONVERSATION_MESSAGE:var o=r.ConversationId,i=a.CONVERSATION_MESSAGE+"#"+o;j.deviceCallbacks[i]&&j.deviceCallbacks[i](t.data)}}}}(),W=function(){return function(){var t=this;this.watch=function(e){t.authMessageHandler.watch(e),t.apiCallMessageHandler.watch(e),t.eventMessageHandler.watch(e)},this.authMessageHandler=new z,this.apiCallMessageHandler=new F,this.eventMessageHandler=new G}}();S=new W,window.addEventListener("message",S.watch),window.ChimeWebSDK={Meetings:D,Contact:x,Chat:L,Auth:O.getInstance()},Object(u.a)()},"./src/utils/WindowUtils.ts":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"e",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return c});var r,o=n("./src/contants/index.ts"),i=function(t,e,n,r){var o=void 0!==window.screenLeft?window.screenLeft:window.screenX,i=void 0!==window.screenTop?window.screenTop:window.screenY,s=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-n/2+o,u=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-r/2+i;a();var c=window.open(t,e,"scrollbars=yes,location=no,status=no,menubar=no,directories=no,titlebar=no,toolbar=no,width="+n+",height="+r+",top="+u+",left="+s);return window.focus&&c.focus(),c},s=function(t){r=t},a=function(){r&&r.close()},u=function(t){var e=t.payload.iframeId;if(e){var n=document.getElementById(e).contentWindow;n&&n.postMessage(t,"*")}},c=function(){var t=document.createElement("iframe");t.style.display="none",t.src=o.c+"/sdk.html",t.id=o.a,document.body.appendChild(t)}},0:function(t,e,n){t.exports=n("./src/sdk/index.ts")}});