<!DOCTYPE html>
<html lang="en">
 <head>
	<meta http-equiv="Cache-Control" content="no-cache" />
	<meta http-equiv="Expires" content="-1" />
	<title>Amazon Chime Web SDK</title>
     <style>
	.container {
		border: 2px solid #dedede;
		background-color: #f1f1f1;
		border-radius: 5px;
		padding: 10px;
		margin: 10px 0;
	}
	.darker {
    border-color: #ccc;
    background-color: #ddd;
	}
	#main-tab {
		display: none;
	}
	#loading-div {
		display: block;
	}
	</style>
 </head>
 <body>
	<div id="loading-div" class="show">
		Loading...
	</div>
	<table id="main-tab" class="hide">
	<tr>
	<td style="border:1px solid;">
	<table  style="border-collapse:collapse;">
		<tr>
			<td colspan="2" align="right" style="border:1px solid; padding-left:1em; padding-right:1em;">
				<a id="login-link" href="#msg-text" onclick="login()">Login</a>
				<div id="currentUser"></div>
				<a id="logout-link" href="#login-link" onclick="logout()">Logout</a>
			</td>
		</tr>
		<tr>
			<td style="vertical-align:top; border:1px solid">
				<div id="sideBar" >
				</div>
			</td>
			<td>
				<table id="chat-tab">
					<tr>
						<td>
							<div id="chatBox" style="height:110px; width:400px; overflow:auto; padding-left:1em; padding-right:1em; border:1px solid gainsboro"></div>
						</td>
					</tr>
					<tr>
						<td>
							<input type="text" id="msg-text" class="chime" onkeyup="createConversationMsg(event)" style="width:99%;" />
						</td>
					</tr>
				</table>
			</td>
		</tr>
		</table>
		</td>
		</tr>
	</table>
	
    <script id="connect-loader">
         (function() {
             var getUrlParam = function (param) {
                 var codedParam = (new RegExp(param + '=([^&]*)')).exec(window.location.search)[1];
                 return decodeURIComponent(codedParam);
             };

             var baseUrl = getUrlParam('xdm_e') + getUrlParam('cp');
             var options = document.getElementById('connect-loader').getAttribute('data-options');

             var script = document.createElement("script");
             script.src = baseUrl + '/atlassian-connect/all.js';

             if(options) {
                 script.setAttribute('data-options', options);
             }

             document.getElementsByTagName("head")[0].appendChild(script);
         })();
    </script>
	
	<script src="https://g.app.chime.aws/embed/sdk-0.1.2.js"></script>
	<script src="index.js"></script>
 </body>
</html>
